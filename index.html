<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Better Prompt</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1020; --card:#121936; --muted:#8ca2ff; --text:#e7ecff; --accent:#9ef0ff; --ok:#b6f2c2;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 600px at 20% -10%,#16224a,transparent),radial-gradient(900px 500px at 110% 20%,#1a2342,transparent),var(--bg);color:var(--text)}
    header{padding:32px 20px;text-align:center}
    header h1{margin:0;font-size:clamp(28px,4vw,40px)}
    header p{margin:8px 0 0;color:#c7d1ff}
    .wrap{max-width:1100px;margin:0 auto;padding:0 20px 60px}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:22px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(157,171,255,.18);box-shadow:0 10px 30px rgba(0,0,0,.25);border-radius:16px;padding:16px}
    .card h2{margin:4px 4px 12px;font-size:18px;color:#dfe7ff}
    label{display:block;font-size:13px;margin:10px 6px;color:#c6d2ff}
    input[type="text"], textarea, select{
      width:100%;
      background:#0e1533;border:1px solid rgba(157,171,255,.25);
      border-radius:12px;color:var(--text);padding:10px 12px;
      outline:none;transition:border-color .2s, box-shadow .2s; resize:vertical;
    }
    textarea{min-height:82px}
    input[type="text"]:focus, textarea:focus, select:focus{border-color:#b6c8ff;box-shadow:0 0 0 3px rgba(158,240,255,.12)}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .hint{font-size:12px;color:#aebcff;margin:4px 6px}
    .pill{display:inline-block;padding:6px 10px;border:1px dashed rgba(158,240,255,.5);border-radius:999px;color:#bfe9ff;font-size:12px;margin:6px 6px 0 0;cursor:pointer}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{appearance:none;border:0;border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer}
    .primary{background:linear-gradient(90deg,#7bd7ff,#a7c7ff);color:#0a1630}
    .ghost{background:transparent;border:1px solid rgba(158,240,255,.5);color:#bfe9ff}
    .out{white-space:pre-wrap;background:#0e1330;border:1px solid rgba(158,240,255,.25);border-radius:14px;padding:14px;min-height:180px}
    .small{font-size:12px;color:#c6d2ff}
    .checklist li{margin:6px 0}
    .footer{margin-top:18px;color:#a5b4ff;font-size:12px}
    .badge{display:inline-flex;align-items:center;gap:6px;background:#0f1c3b;border:1px solid rgba(130,160,255,.25);padding:6px 10px;border-radius:999px;font-size:12px;color:#cfe3ff}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
  </style>
</head>
<body>
  <header>
    <h1>Better Prompt</h1>
    <p>Turn rough ideas into clear, actionable prompts that get great results.</p>
  </header>
  <div class="wrap">
    <div class="grid">
      <section class="card" aria-label="Inputs">
        <h2>Input</h2>
        <label>Goal (what you want done)
          <textarea id="goal" placeholder="e.g., Summarize a 10-page paper into 5 bullet points for executives."></textarea>
        </label>
        <label>Context (what the model should know)
          <textarea id="context" placeholder="e.g., Audience is non-technical; emphasize business impact; include risks."></textarea>
        </label>
        <div class="row">
          <label>Persona / Role
            <input id="persona" type="text" placeholder="e.g., Senior data analyst with experience in A/B testing" />
          </label>
          <label>Output format
            <select id="format">
              <option>Markdown bullets</option>
              <option>Numbered steps</option>
              <option>Table</option>
              <option>JSON</option>
              <option>Free form</option>
            </select>
          </label>
        </div>
        <div class="row">
          <label>Tone / Style
            <input id="tone" type="text" placeholder="e.g., concise, plain English, no jargon" />
          </label>
          <label>Length guidance
            <input id="length" type="text" placeholder="e.g., 150â€“200 words, or 5 bullets" />
          </label>
        </div>
        <label>Constraints / Mustâ€‘haves
          <textarea id="constraints" placeholder="e.g., Include a brief justification for decisions; cite sources if any; avoid sensitive data." ></textarea>
        </label>
        <label>Fewâ€‘shot examples (optional)
          <textarea id="examples" placeholder="Example\nInput: â€¦\nGood Output: â€¦\n---\nInput: â€¦\nGood Output: â€¦"></textarea>
        </label>
        <div class="hint">Quick add:</div>
        <div id="chips"></div>
        <div class="actions">
          <button class="primary" id="improveBtn">Improve Prompt</button>
          <button class="ghost" id="copyBtn">Copy Improved Prompt</button>
          <button class="ghost" id="downloadBtn">Download .txt</button>
        </div>
      </section>

      <section class="card" aria-label="Outputs">
        <h2>Output</h2>
        <div class="badge">ðŸš€ Suggested prompt</div>
        <div id="output" class="out mono" tabindex="0" aria-live="polite"></div>
        <div class="footer">
          <details>
            <summary class="small">Checklist & tips</summary>
            <ul class="checklist small">
              <li>State the <strong>role</strong> and the <strong>exact task</strong>.</li>
              <li>Provide essential <strong>context</strong> and constraints.</li>
              <li>Specify <strong>format</strong>, <strong>tone</strong>, and <strong>length</strong>.</li>
              <li>Add a <strong>response template</strong> if structure matters.</li>
              <li>Prefer <em>brief justifications</em> over private chainâ€‘ofâ€‘thought.</li>
            </ul>
          </details>
        </div>
      </section>
    </div>
  </div>

  <script>
    const chips = [
      'Ask 3 clarifying questions if info is missing',
      'Cite sources with links when applicable',
      'Include a short rationale for each decision',
      'Provide an explicit response template',
      'Flag uncertainties and assumptions',
      'Avoid sensitive or private data',
      'Use the user\'s examples as style guides',
      'Prefer concise, scannable formatting'
    ];

    const chipsBox = document.getElementById('chips');
    chips.forEach(text=>{
      const el=document.createElement('span');
      el.className='pill'; el.textContent=text; el.title='Click to add to Constraints';
      el.addEventListener('click',()=>{
        const c=document.getElementById('constraints');
        c.value = (c.value.trim() + (c.value.trim()?"\n":"")) + 'â€¢ ' + text;
        c.dispatchEvent(new Event('input'));
      });
      chipsBox.appendChild(el);
    });

    const out = document.getElementById('output');
    const fields = ['goal','context','persona','format','tone','length','constraints','examples'];

    function buildPrompt(){
      const v = Object.fromEntries(fields.map(id=>[id, document.getElementById(id).value.trim()]));
      const lines = [];
      if(v.persona) lines.push(`# Role\nYou are ${v.persona}.`);
      if(v.goal){
        lines.push(`\n# Task\n${v.goal}`);
      }
      if(v.context){
        lines.push(`\n# Context\n${v.context}`);
      }
      const req = [];
      if(v.format && v.format!=="Free form") req.push(`Output format: ${v.format}.`);
      if(v.tone) req.push(`Tone/style: ${v.tone}.`);
      if(v.length) req.push(`Length: ${v.length}.`);
      if(v.constraints){
        req.push(...v.constraints.split(/\n+/).map(s=>s.replace(/^â€¢\s*/,'').trim()).filter(Boolean));
      }
      if(req.length){
        lines.push(`\n# Requirements\n- ${req.join('\n- ')}`);
      }
      lines.push(`\n# Guidance\n- If needed, ask up to 3 concise clarifying questions before answering.\n- Give brief justifications rather than revealing private chain-of-thought.\n- If you must make assumptions, state them first.`);

      if(v.examples){
        lines.push(`\n# Examples\n${v.examples}`);
      }

      // Response template inferred from format
      let template = '';
      switch(v.format){
        case 'Markdown bullets':
          template = `\n# Response Template\n- Summary:\n- Key points (5 bullets):\n- Risks/Unknowns:`; break;
        case 'Numbered steps':
          template = `\n# Response Template\n1. Plan\n2. Steps\n3. Result\n4. Next actions`; break;
        case 'Table':
          template = `\n# Response Template\n| Item | Details | Notes |\n|---|---|---|`; break;
        case 'JSON':
          template = `\n# Response Template\n{\n  "summary": "",\n  "steps": [],\n  "assumptions": [],\n  "next_actions": []\n}`; break;
        default:
          template = '';
      }
      if(template) lines.push(template);

      return lines.join('\n');
    }

    function improve(){
      const text = buildPrompt();
      out.textContent = text || 'Fill in the inputs on the left, then click â€œImprove Promptâ€.';
    }

    document.getElementById('improveBtn').addEventListener('click', improve);
    document.getElementById('copyBtn').addEventListener('click', async ()=>{
      const text = out.textContent.trim();
      if(!text) return;
      try{ await navigator.clipboard.writeText(text); 
        toast('Copied to clipboard');
      }catch(e){ toast('Press Ctrl/Cmd+C to copy'); }
    });
    document.getElementById('downloadBtn').addEventListener('click', ()=>{
      const text = out.textContent.trim();
      if(!text) return;
      const blob = new Blob([text], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'better-prompt.txt'; a.click();
      URL.revokeObjectURL(url);
    });

    // Lightweight toast
    function toast(msg){
      const t=document.createElement('div');
      t.textContent=msg; t.style.position='fixed'; t.style.bottom='20px'; t.style.left='50%'; t.style.transform='translateX(-50%)';
      t.style.background='#0f1c3b'; t.style.border='1px solid rgba(130,160,255,.4)'; t.style.padding='10px 14px'; t.style.borderRadius='12px'; t.style.color='#cfe3ff'; t.style.boxShadow='0 8px 20px rgba(0,0,0,.3)';
      document.body.appendChild(t); setTimeout(()=>t.remove(),1400);
    }

    // Live preview as the user types (debounced)
    let timer; document.querySelectorAll('input, textarea, select').forEach(el=>{
      el.addEventListener('input', ()=>{ clearTimeout(timer); timer=setTimeout(improve, 250); });
    });

    // Initial placeholder output
    improve();
  </script>
</body>
</html>
